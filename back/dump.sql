SET DB_CLOSE_DELAY -1;         
;              
CREATE USER IF NOT EXISTS "SA" SALT 'aa0e40f03be328a4' HASH 'd235d707d264288b7d59945528bbe5e07cfb5595b7f1c368ee760a7854542bd2' ADMIN;          
CREATE SEQUENCE "PUBLIC"."HIBERNATE_SEQUENCE" START WITH 1;    
CREATE MEMORY TABLE "PUBLIC"."GAME"(
    "ID" BIGINT NOT NULL,
    "NAME" VARCHAR(255),
    "TOURNAMENT_ID" BIGINT
);          
ALTER TABLE "PUBLIC"."GAME" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.GAME;     
CREATE MEMORY TABLE "PUBLIC"."GAME_TEAMS"(
    "GAME_ID" BIGINT NOT NULL,
    "TEAMS_ID" BIGINT NOT NULL
);    
ALTER TABLE "PUBLIC"."GAME_TEAMS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("GAME_ID", "TEAMS_ID");   
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.GAME_TEAMS;               
CREATE MEMORY TABLE "PUBLIC"."GENRE"(
    "ID" BIGINT NOT NULL,
    "NAME" VARCHAR(255)
);     
ALTER TABLE "PUBLIC"."GENRE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");         
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.GENRE;    
CREATE MEMORY TABLE "PUBLIC"."TEAM"(
    "ID" BIGINT NOT NULL,
    "ADDED_AT" TIMESTAMP,
    "NAME" VARCHAR(255),
    "CAPTAIN_ID" BIGINT,
    "FOUNDER_ID" BIGINT
);          
ALTER TABLE "PUBLIC"."TEAM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_27" PRIMARY KEY("ID");         
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TEAM;     
CREATE MEMORY TABLE "PUBLIC"."TEAM_PARTICIPANTS"(
    "TEAM_ID" BIGINT NOT NULL,
    "PARTICIPANTS_ID" BIGINT NOT NULL
);      
ALTER TABLE "PUBLIC"."TEAM_PARTICIPANTS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("TEAM_ID", "PARTICIPANTS_ID");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TEAM_PARTICIPANTS;        
CREATE MEMORY TABLE "PUBLIC"."TOURNAMENT"(
    "ID" BIGINT NOT NULL,
    "ADDED_AT" TIMESTAMP,
    "NAME" VARCHAR(255),
    "PRIZE" VARCHAR(255),
    "GENRE_ID" BIGINT
);     
ALTER TABLE "PUBLIC"."TOURNAMENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E" PRIMARY KEY("ID");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TOURNAMENT;               
CREATE MEMORY TABLE "PUBLIC"."TOURNAMENT_TEAMS"(
    "TOURNAMENT_ID" BIGINT NOT NULL,
    "TEAMS_ID" BIGINT NOT NULL
);        
ALTER TABLE "PUBLIC"."TOURNAMENT_TEAMS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6" PRIMARY KEY("TOURNAMENT_ID", "TEAMS_ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TOURNAMENT_TEAMS;         
CREATE MEMORY TABLE "PUBLIC"."USER"(
    "ID" BIGINT NOT NULL,
    "ADDED_AT" TIMESTAMP,
    "DESCRIPTION" VARCHAR(255),
    "FIRSTNAME" VARCHAR(255),
    "LASTNAME" VARCHAR(255),
    "LOGIN" VARCHAR(255)
);
ALTER TABLE "PUBLIC"."USER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_27E" PRIMARY KEY("ID");        
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.USER;     
ALTER TABLE "PUBLIC"."GAME_TEAMS" ADD CONSTRAINT "PUBLIC"."UK_P26DE1KITKWTWWTLVJ9EE8ITE" UNIQUE("TEAMS_ID");   
ALTER TABLE "PUBLIC"."TOURNAMENT_TEAMS" ADD CONSTRAINT "PUBLIC"."UK_KKIR011P65VYIPC4GXW266Q0F" UNIQUE("TEAMS_ID");             
ALTER TABLE "PUBLIC"."TEAM_PARTICIPANTS" ADD CONSTRAINT "PUBLIC"."UK_997EF6693WHAYHXW4SNDMSEQM" UNIQUE("PARTICIPANTS_ID");     
ALTER TABLE "PUBLIC"."TOURNAMENT_TEAMS" ADD CONSTRAINT "PUBLIC"."FK685BOV1VC7BKLFXUQM3T9DJQ8" FOREIGN KEY("TEAMS_ID") REFERENCES "PUBLIC"."TEAM"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."TOURNAMENT_TEAMS" ADD CONSTRAINT "PUBLIC"."FKI2XKPJK2BKPNIV5LP7PQ3USHL" FOREIGN KEY("TOURNAMENT_ID") REFERENCES "PUBLIC"."TOURNAMENT"("ID") NOCHECK;     
ALTER TABLE "PUBLIC"."GAME_TEAMS" ADD CONSTRAINT "PUBLIC"."FK6JH4EVAF5I1WW49QKOD6AIH7C" FOREIGN KEY("GAME_ID") REFERENCES "PUBLIC"."GAME"("ID") NOCHECK;       
ALTER TABLE "PUBLIC"."TOURNAMENT" ADD CONSTRAINT "PUBLIC"."FKM43S3YXAHSAFWB6UR6FA0IXY" FOREIGN KEY("GENRE_ID") REFERENCES "PUBLIC"."GENRE"("ID") NOCHECK;      
ALTER TABLE "PUBLIC"."TEAM_PARTICIPANTS" ADD CONSTRAINT "PUBLIC"."FK6AYGPVK6KTFMYX9OOIL7Q85TQ" FOREIGN KEY("PARTICIPANTS_ID") REFERENCES "PUBLIC"."USER"("ID") NOCHECK;        
ALTER TABLE "PUBLIC"."TEAM" ADD CONSTRAINT "PUBLIC"."FKHYY6XIR089FKXHTDTG7HE2WFS" FOREIGN KEY("FOUNDER_ID") REFERENCES "PUBLIC"."USER"("ID") NOCHECK;          
ALTER TABLE "PUBLIC"."GAME_TEAMS" ADD CONSTRAINT "PUBLIC"."FKDSW3KM1AHGOQFHFRA1TS1BAUQ" FOREIGN KEY("TEAMS_ID") REFERENCES "PUBLIC"."TEAM"("ID") NOCHECK;      
ALTER TABLE "PUBLIC"."TEAM_PARTICIPANTS" ADD CONSTRAINT "PUBLIC"."FKSV1VO6SD6QXA9WBDS3S9O4SW3" FOREIGN KEY("TEAM_ID") REFERENCES "PUBLIC"."TEAM"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."GAME" ADD CONSTRAINT "PUBLIC"."FK2XFDBV4N193EFUYAJLQH0VS6J" FOREIGN KEY("TOURNAMENT_ID") REFERENCES "PUBLIC"."TOURNAMENT"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."TEAM" ADD CONSTRAINT "PUBLIC"."FK7T049UMNCRU9349X0GOAHS59G" FOREIGN KEY("CAPTAIN_ID") REFERENCES "PUBLIC"."USER"("ID") NOCHECK;          
